---
layout: post
title: '视觉三维人体姿态估计的实现难度和阶段性目标'
date: 2018-08-12
author: Jekyll
color: rgb(255,210,32)
cover: 'http://on2171g4d.bkt.clouddn.com/jekyll-banner.png'
tags: DeepLearning
---
写了一些3D human body reconstruction的项目经历，当时写的是英文想了下就不翻译了，还是保留一下原文的意思。

Considering the condition number of SVD used in the triangulation(Hartley & Zisserman, 2003), I need to avoid imperfect 2D keypoint matching affecting the depth estimate. Second, continuous learning allows me to know how innovation influences the result. For example, learning optimization problems let me add the constraint of 3D bone length and joint rotation angle to the process of triangulation so that the result is not so sensitive to the matching degree of 2d points. In addition, I also tried to use the optical flow model (e.g. flownet(Ilg et al., 2017) (Reda, Pottorff, Barker, & Catanzaro, 2017) ) and a classic human pose detection model(e.g. Hourglass(Alejandro Newell, 2016)) to do further binocular correspondence refinement and the temporal-spatial information between the adjacent frames, which not only solves the jitters of 2D key points(e.g. Openpose(Cao, Simon, Wei, & Sheikh, 2017) (Simon, Joo, Matthews, & Sheikh, 2017) (Wei, Ramakrishna, Kanade, & Sheikh, 2016)) but also guarantee 3D motion coherence even some joint positions are blocked for a short period of time. Therefore, I realize that the industry needs to weigh in all aspects to meet the requirements of low cost and high user experience, and constant innovation is more important than trading off when I want to meet higher requirements.

Alejandro Newell, J. D., Kaiyu Yang. (2016). Stacked hourglass networks for human pose estimation. In Eccv.

Cao, Z., Simon, T., Wei, S.-E., & Sheikh, Y. (2017). Realtime multi-person 2d pose estimation using part affinity fields. In Cvpr.

Hartley, R., & Zisserman, A. (2003). Multiple view geometry in computer vision (2nd ed.). New York, NY, USA: Cambridge University Press.

Ilg, E., Mayer, N., Saikia, T., Keuper, M., Dosovitskiy, A., & Brox, T. (2017, Jul). Flownet 2.0:

Evolution of optical flow estimation with deep networks. In Ieee conference on computer vision and pattern recognition (cvpr). Retrieved from http://lmb.informatik.uni-freiburg.de//Publications/2017/IMKDB17

Reda, F., Pottorff, R., Barker, J., & Catanzaro, B. (2017). flownet2-pytorch: Pytorch implementation of flownet 2.0: Evolution of optical flow estimation with deep networks. https://github.com/NVIDIA/flownet2-pytorch. GitHub.

Simon, T., Joo, H., Matthews, I., & Sheikh, Y. (2017). Hand keypoint detection in single images using multiview bootstrapping. In Cvpr.

Wei, S.-E., Ramakrishna, V., Kanade, T., & Sheikh, Y. (2016). Convolutional pose machines. In Cvpr.

现在总结一下这几年视觉动补的进展

最近几年基于关节型角色的建模和动画制作被视为一项艰巨的任务，当角色具有真实的人类外观时尤是如此，因为人物角色的正确表达需要处理多个问题。

# 原因

首先：人物角色的外观已为人们所熟知，这使得每个人都成为了苛刻的观察员，稍有不自然，就会被迅速察觉。

其次，人体的结构尤其复杂，包含了200多块骨骼以及600多块肌肉，当对刚性链接肢体进行全方位建模时，工作量与工作难度就被大大增加。同时，躯体的可变性特征又进一步增加了建模的复杂性。

最后，由于文化，个性，遗传等因素的影响，人类的运动行为有着巨大的差异，这又再一次加大了建模的难度。

现阶段，创建逼真的人体形态和动作已被视为一项新的技术，其应用场景非常广泛。这项研究的短期目标是使这项技术能够应用于许多不同的领域，而长远目标则是开发一套符合电影制作要求的单目/双目运动捕捉系统。这些需求被定义为捕捉包括面部和身体在内的完整运动。而目前的技术主要关注的是基本的骨骼从正面的运动，而不是其他的运动（如手臂和脚的微妙旋转）。还有从侧面的姿态估计，以及当身体的某些部分没有被捕捉到时，如何猜测姿势。在目标实现上可以分三个阶段:
# 1.体态检测
PC端單目2D到移動端的2D。第一阶段是静态三维姿态估计，它常被用于医学领域，如身体健康状况检测，它可以检测病人脊椎是否正常，然后根据检测结果科学判断病人症状，并指导他们的加强肩颈的活动与治疗。值得注意的是，该技术不需要考虑遮挡，由于数据可以在特定情况下采集，所以佩戴时的情况较为宽松，实现起来也相对简单。
# 2.火柴人驅動
PC端從單幀雙目3D到單目3D，不存在時間上的動作連貫，再到可以視頻跟蹤實現轉身依舊動作連貫。第二阶段是动态三维姿态估计，常用于人机交互、身体游戏、运动分析等领域。它过去是由深度摄像头辅助的，比如kinect设备。现阶段已经有技术可以处理一定程度的闭塞和多人情况，但这项技术是基于简化的运动模型，省略了手指、脚趾和头部的运动捕捉。
# 3.含有人體形態的動補系統

PC端脚手精確（無指尖），但目前無法實時向實時優化。第三阶段是动态三维形状和姿态估计，它可以应用于需要对人体姿态进行高精度估计的领域，如3D电影制作等，以降低成本。因为这些领域对细节的要求极高，使得该技术需要考虑到人体的胖瘦形态，以及微小关节的运动。这便要求建模时不仅要考虑骨骼的运动，还要考虑整个人体的形状，这样才能将三维形状以像素级的精度投影到二维图像上。另外，骨骼的运动能否符合人体运动学的规律也是一个复杂的问题，單單只有火柴人就會導致敺動的模型出現身體部位之間穿模，四肢自旋出不自然的角度。目前有两种简化的方法来处理这个问题：一是用动作捕捉系统实时记录主要骨骼的旋转角度；另一个是用算法去逆推，比如逆运动学和对抗网络。再者皮肤的可见几何体是否精细取决于细节内容和底层内部结构，如骨骼和肌肉结构。因此，该阶段的技术要求是最复杂的也是最难去实现的。
# 4.未來方向
3D pose移動端和微小关节的3D pose電腦端. 由于有几个相关项目在进行，这块就暂时简略。



